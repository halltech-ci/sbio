<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve"> 
    <t t-name="Orderline" t-inherit="point_of_sale.Orderline" t-inherit-mode="extension" owl="1">
        <xpath expr="//li[hasclass('info')]" position="after">
            <t t-set='wk_pack_product' t-value='props.line.getPackProduct(props.line.get_product().id,props.line.get_display_price(),props.line.get_quantity_str())' />
            <t t-if="wk_pack_product">        
                <t t-foreach="wk_pack_product.pack_product_list" t-as="product">
                    <ul class="info-list">
                        <ul class="info-list">
                            <ul class="info-list">
                                <span class="product-name wk_product_name" style="color:#555;si">
                                    <t t-esc="product.product.display_name"/>
                                </span>
                                <ul class="info-list wk_product_list">
                                    <t t-if="product.qty">
                                        <li class="info">
                                        <em>
                                            <t t-esc="product.qty" />
                                        </em>
                                        <t t-esc="props.line.wk_get_unit(product.product.uom_id)" />
                                        at
                                        <t t-esc="env.pos.format_currency(product.product.price,'Product Price')" />
                                        /
                                        <t t-esc="props.line.wk_get_unit(product.product.uom_id)" />
                                        </li> 
                                    </t>  
                                </ul>
                            </ul>
                        </ul>
                    </ul>
                </t>
            </t>
        </xpath>
    </t>
    
    <t t-name="OrderReceipt" t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('before-footer')]" position="before">
            <div id="loyalty-points">
                <t t-set='wk_pack_benefits' t-value='env.pos.get_order().get_pack_product_benefits(env.pos.get_order().get_orderlines())' />
                <t t-if="wk_pack_benefits">
                    <div>
                        <i style="font-size:17px">You Saved 
                        <t t-esc="env.pos.format_currency(wk_pack_benefits)"/> on purchase of pack product(s).</i>
                    </div>
                </t>
            </div> 
        </xpath>
    </t>

    <t t-name="ProductItem" t-inherit="point_of_sale.ProductItem" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('product-img')]" position="inside">
            <t t-if="wk_is_pack_product(props.product.id)">
                <div class="product_pack">Pack Product</div>
            </t> 
        </xpath>
    </t>
</templates>